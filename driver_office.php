<?php
 /**
  * 通过车牌号获取行驶证的签发机关
  * @param $car_number 车牌号
  * @return $str,发证机关字符串，没有的话返回空字符串
  */
 function vehicle_travel_office_map($car_number)
 {
	$province = mb_substr($car_number,0,1);//津，晋，吉
	$city_code = mb_substr($car_number,1,1);//A_Z(没有I,O)
	$city = strtoupper($city_code);
	//直辖市
	if($province == "京")
	{
		return "北京市公安局公安交通管理局";
	}
	if($province == "津")
	{
		return "天津市公安交通管理局";
	}
	if($province == "沪")
	{
		return "上海市公安局交通警察总队";
	}
	if($province == "渝")
	{
		return "重庆市公安局交通管理局";
	}
	//各省情况
	$city_code_arr = array('A','B','C','D','E','F','G','H','J','K','L','M','N','P','Q','R','S','T','U','V','W','X','Y','Z');
	if( !in_array($city_code,$city_code_arr) )
	{
		return "";//防止第二位不是字符的情况
	}
	$tail_name = "公安局交通警察支队";//固定的后缀
	$map_arr = array(
		'冀' => array(
			'name' => "河北省",
			'city' => array(
				'A' => "石家庄市",
				'B' => "唐山市",
				'C' => "秦皇岛市",
				'D' => "邯郸市",
				'E' => "邢台市",
				'F' => "保定市",
				'G' => "张家口市",
				'H' => "承德市",
				'J' => "沧州市",
				'R' => "廊坊市",
				'T' => "衡水市",
			),
		),
		'豫' => array(
			'name' => "河南省",
			'city' => array(
				'A' => "郑州市",
				'B' => "开封市",
				'C' => "洛阳市",
				'D' => "平顶山市",
				'E' => "安阳市",
				'F' => "鹤壁市",
				'G' => "新乡市",
				'H' => "焦作市",
				'J' => "濮阳市",
				'K' => "许昌市",
				'L' => "漯河市",
				'M' => "三门峡市",
				'N' => "商丘市",
				'P' => "周口市",
				'Q' => "驻马店市",
				'R' => "南阳市",
				'S' => "信阳市",
				'U' => "济源市",
			),
		),
		'云' => array(
			'name' => "云南省",
			'city' => array(
				'A' => "昆明市",
				'C' => "昭通市",
				'D' => "曲靖市",
				'E' => "楚雄彝族",
				'F' => "玉溪市",
				'G' => "红河哈尼族",
				'H' => "文山壮族苗",
				'J' => "思茅市",
				'K' => "西双版纳傣族",
				'L' => "大理白族",
				'M' => "保山市",
				'N' => "德宏傣族景颇族",
				'P' => "丽江市",
				'Q' => "怒江傈僳族",
				'R' => "迪庆藏族",
				'S' => "临沧市",
			),
		),
		'辽' => array(
			'name' => "辽宁省",
			'city' => array(
				'A' => "沈阳市",
				'B' => "大连市",
				'C' => "鞍山市",
				'D' => "抚顺市",
				'E' => "本溪市",
				'F' => "丹东市",
				'G' => "锦州市",
				'H' => "营口市",
				'J' => "阜新市",
				'K' => "辽阳市",
				'L' => "盘锦市",
				'M' => "铁岭市",
				'N' => "朝阳市",
				'P' => "葫芦岛市",
			),
		),
		'黑' => array(
			'name' => "黑龙江省",
			'city' => array(
				'A' => "哈尔滨市",
				'B' => "齐齐哈尔市",
				'C' => "牡丹江市",
				'D' => "佳木斯市",
				'E' => "大庆市",
				'F' => "伊春市",
				'G' => "鸡西市",
				'H' => "鹤岗市",
				'J' => "双鸭山市",
				'K' => "七台河市",
				'L' => "松花江市",
				'M' => "绥化市",
				'N' => "黑河市",
				'P' => "大兴安岭地区",
			),
		),
		'湘' => array(
			'name' => "湖南省",
			'city' => array(
				'A' => "长沙市",
				'B' => "株洲市",
				'C' => "湘潭市",
				'D' => "衡阳市",
				'E' => "邵阳市",
				'F' => "岳阳市",
				'G' => "张家界市",
				'H' => "益阳市",
				'J' => "常德市",
				'K' => "娄底市",
				'L' => "郴州市",
				'M' => "永州市",
				'N' => "怀化市",
				'U' => "湘西州",
			),
		),
		'皖' => array(
			'name' => "安徽省",
			'city' => array(
				'A' => "合肥市",
				'B' => "芜湖市",
				'C' => "蚌埠市",
				'D' => "淮南市",
				'E' => "马鞍山市",
				'F' => "淮北市",
				'G' => "铜陵市",
				'H' => "安庆市",
				'J' => "黄山市",
				'K' => "阜阳市",
				'L' => "宿州市",
				'M' => "滁州市",
				'N' => "六安市",
				'P' => "宣城市",
				'Q' => "巢湖市",
				'R' => "池州市",
				'S' => "亳州市",
			),
		),
		'鲁' => array(
			'name' => "山东省",
			'city' => array(
				'A' => "济南市",
				'B' => "青岛市",
				'C' => "淄博市",
				'D' => "枣庄市",
				'E' => "东营市",
				'F' => "烟台市",
				'G' => "潍坊市",
				'H' => "济宁市",
				'J' => "泰安市",
				'K' => "威海市",
				'L' => "日照市",
				'M' => "滨州市",
				'N' => "德州市",
				'P' => "聊城市",
				'Q' => "临沂市",
				'R' => "菏泽市",
				'S' => "莱芜市",
				'U' => "青岛市",//增补
				'V' => "潍坊市",//增补
				'Y' => "烟台市",//增补
			),
		),
		'新' => array(
			'name' => "新疆维吾尔自治区",
			'city' => array(
				'A' => "乌鲁木齐市",
				'B' => "昌吉回族",
				'C' => "石河子市",
				'D' => "奎屯市",
				'E' => "博尔塔拉蒙古族",
				'F' => "伊犁哈萨克自治州",
				'G' => "塔城市",
				'H' => "阿勒泰市",
				'J' => "克拉玛依市",
				'K' => "吐鲁番市",
				'L' => "哈密市",
				'M' => "巴音郭楞蒙古族",
				'N' => "阿克苏市",
				'P' => "克孜勒苏柯尔克孜自治州",
				'Q' => "喀什市",
				'R' => "和田市",
			),
		),
		'苏' => array(
			'name' => "江苏省",
			'city' => array(
				'A' => "南京市",
				'B' => "无锡市",
				'C' => "徐州市",
				'D' => "常州市",
				'E' => "苏州市",
				'F' => "南通市",
				'G' => "连云港市",
				'H' => "淮安市",
				'J' => "盐城市",
				'K' => "扬州市",
				'L' => "镇江市",
				'M' => "泰州市",
				'N' => "宿迁市",
			),
		),
		'浙' => array(
			'name' => "浙江省",
			'city' => array(
				'A' => "杭州市",
				'B' => "宁波市",
				'C' => "温州市",
				'D' => "绍兴市",
				'E' => "湖州市",
				'F' => "嘉兴市",
				'G' => "金华市",
				'H' => "衢州市",
				'J' => "台州市",
				'K' => "丽水市",
				'L' => "舟山市",
			),
		),
		'赣' => array(
			'name' => "江西省",
			'city' => array(
				'A' => "南昌市",
				'B' => "赣州市",
				'C' => "宜春市",
				'D' => "吉安市",
				'E' => "上饶市",
				'F' => "抚州市",
				'G' => "九江市",
				'H' => "景德镇市",
				'J' => "萍乡市",
				'K' => "新余市",
				'L' => "鹰潭市",
				'M' => "南昌市",
			),
		),
		'鄂' => array(
			'name' => "湖北省",
			'city' => array(
				'A' => "武汉市",
				'B' => "黄石市",
				'C' => "十堰市",
				'D' => "荆州市",
				'E' => "宜昌市",
				'F' => "襄樊市",
				'G' => "鄂州市",
				'H' => "荆门市",
				'J' => "黄冈市",
				'K' => "孝感市",
				'L' => "咸宁市",
				'M' => "仙桃市",
				'N' => "潜江市",
				'P' => "神农架市",
				'Q' => "恩施州",
				'R' => "天门市",
				'S' => "随州市",
			),
		),
		'桂' => array(
			'name' => "广西壮族自治区",
			'city' => array(
				'A' => "南宁市",
				'B' => "柳州市",
				'C' => "桂林市",
				'D' => "梧州市",
				'E' => "北海市",
				'F' => "崇左市",
				'G' => "柳州市",
				'H' => "桂林市",
				'J' => "贺州市",
				'K' => "玉林市",
				'L' => "百色市",
				'M' => "河池市",
				'N' => "钦州市",
				'P' => "防城港市",
				'R' => "贵港市",
			),
		),
		'甘' => array(
			'name' => "甘肃省",
			'city' => array(
				'A' => "兰州市",
				'B' => "嘉峪关市",
				'C' => "金昌市",
				'D' => "白银市",
				'E' => "天水市",
				'F' => "酒泉市",
				'G' => "张掖市",
				'H' => "武威市",
				'J' => "定西市",
				'K' => "陇南市",
				'L' => "平凉市",
				'M' => "庆阳市",
				'N' => "临夏回族",
				'P' => "甘南藏族",
			),
		),
		'晋' => array(
			'name' => "山西省",
			'city' => array(
				'A' => "太原市",
				'B' => "大同市",
				'C' => "阳泉市",
				'D' => "长治市",
				'E' => "晋城市",
				'F' => "朔州市",
				'H' => "忻州市",
				'J' => "吕梁市",
				'K' => "晋中市",
				'L' => "临汾市",
				'M' => "运城市",
			),
		),
		'蒙' => array(
			'name' => "内蒙古自治区",
			'city' => array(
				'A' => "呼和浩特市",
				'B' => "包头市",
				'C' => "乌海市",
				'D' => "赤峰市",
				'E' => "呼伦贝尔市",
				'F' => "兴安盟",
				'G' => "通辽市",
				'H' => "锡林郭勒市",
				'J' => "乌兰察布市",
				'K' => "鄂尔多斯市",
				'L' => "巴彦淖尔市",
				'M' => "阿拉善盟",
			),
		),
		'陕' => array(
			'name' => "陕西省",
			'city' => array(
				'A' => "西安市",
				'B' => "铜川市",
				'C' => "宝鸡市",
				'D' => "咸阳市",
				'E' => "渭南市",
				'F' => "汉中市",
				'G' => "安康市",
				'H' => "商洛市",
				'J' => "延安市",
				'K' => "榆林市",
			),
		),
		'吉' => array(
			'name' => "吉林省",
			'city' => array(
				'A' => "长春市",
				'B' => "吉林市",
				'C' => "四平市",
				'D' => "辽源市",
				'E' => "通化市",
				'F' => "白山市",
				'G' => "白城市",
				'H' => "延边市",
				'J' => "松原市",
			),
		),
		'闽' => array(
			'name' => "福建省",
			'city' => array(
				'A' => "福州市",
				'B' => "莆田市",
				'C' => "泉州市",
				'D' => "厦门市",
				'E' => "漳州市",
				'F' => "龙岩市",
				'G' => "三明市",
				'H' => "南平市",
				'J' => "宁德市",
			),
		),
		'贵' => array(
			'name' => "贵州省",
			'city' => array(
				'A' => "贵阳市",
				'B' => "六盘水市",
				'C' => "遵义市",
				'D' => "铜仁市",
				'E' => "黔西南布依族苗族",
				'F' => "毕节市",
				'G' => "安顺市",
				'H' => "黔东南苗族侗族",
				'J' => "黔南布依族苗族",
			),
		),
		'粤' => array(
			'name' => "广东省",
			'city' => array(
				'A' => "广州市",
				'B' => "深圳市",
				'C' => "珠海市",
				'D' => "汕头市",
				'E' => "佛山市",
				'F' => "韶关市",
				'G' => "湛江市",
				'H' => "肇庆市",
				'J' => "江门市",
				'K' => "茂名市",
				'L' => "惠州市",
				'M' => "梅州市",
				'N' => "汕尾市",
				'P' => "河源市",
				'Q' => "阳江市",
				'R' => "清远市",
				'S' => "东莞市",
				'T' => "中山市",
				'U' => "潮州市",
				'V' => "揭阳市",
				'W' => "云浮市",
				'X' => "顺德区",
				'Y' => "南海区",
			),
		),
		'青' => array(
			'name' => "青海省",
			'city' => array(
				'A' => "西宁市",
				'B' => "海东市",
				'C' => "海北藏族",
				'D' => "黄南藏族",
				'E' => "海南藏族",
				'F' => "果洛藏族",
				'G' => "玉树藏族",
				'H' => "海西蒙古族藏族",
			),
		),
		'藏' => array(
			'name' => "西藏自治区",
			'city' => array(
				'A' => "拉萨市",
				'B' => "昌都市",
				'C' => "山南市",
				'D' => "日喀则市",
				'E' => "那曲",
				'F' => "阿里",
				'G' => "林芝",
			),
		),
		'川' => array(
			'name' => "四川省",
			'city' => array(
				'A' => "成都市",
				'B' => "绵阳市",
				'C' => "自贡市",
				'D' => "攀枝花市",
				'E' => "泸州市",
				'F' => "德阳市",
				'H' => "广元市",
				'J' => "遂宁市",
				'K' => "内江市",
				'L' => "乐山市",
				'M' => "资阳市",
				'Q' => "宜宾市",
				'R' => "南充市",
				'S' => "达州市",
				'T' => "雅安市",
				'U' => "阿坝藏族羌族",
				'V' => "甘孜藏族",
				'W' => "凉山彝族",
				'X' => "广安市",
				'Y' => "巴中市",
				'Z' => "眉山市",
			),
		),
		'宁' => array(
			'name' => "宁夏回族自治区",
			'city' => array(
				'A' => "银川市",
				'B' => "石嘴山市",
				'C' => "吴忠市",
				'D' => "固原市",
			),
		),
		'琼' => array(
			'name' => "海南省",
			'city' => array(
				'A' => "海口市",
				'B' => "三亚市",
				'C' => "琼山市",
				'D' => "琼南市",
				'E' => "洋浦开发区",
			),
		),
    );
	$return_str = "";//默认返回空字符串
	if(isset($map_arr[$province]['city'][$city]))
	{
		$return_str = $map_arr[$province]['name'].$map_arr[$province]['city'][$city].$tail_name;//拼接返回字符串
	}
	return trim($return_str);
 }

 
